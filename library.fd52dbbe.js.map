{"mappings":"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","sources":["src/library.js","src/js/renderLibrary.js","src/js/markupFilmsLib.js","src/js/modal_movie_Library.js"],"sourcesContent":["import './js/api';\nimport './js/constants';\nimport './js/elements';\nimport './js/students-modal';\nimport './js/dark-theme';\nimport './js/renderLibrary'\nimport './js/modal_movie_Library';\n// import './js/api_movie';\nimport './js/back-to-top';\n\n","import markupFilms from './markupFilms';\n\nimport { renderLibraryPagination } from './pagination';\nimport markupFilmsLib from './markupFilmsLib';\nconst refs = {\n  btnWatched: document.querySelector('.watched'),\n  btnQueue: document.querySelector('.queue'),\n  films: document.querySelector('.films'),\n  plug: document.querySelector('.plug'),\n  pagination: document.getElementById('pagination'),\n};\n\nrefs.btnWatched.addEventListener('click', getWatched);\nrefs.btnQueue.addEventListener('click', getQueue);\n\ngetWatched();\nfunction getWatched() {\n  refs.films.innerHTML = '';\n  const parsItem = JSON.parse(localStorage.getItem('watched'));\n  if (parsItem !== null && parsItem.length !== 0) {\n    refs.plug.style.display = 'none';\n    refs.films.innerHTML = markupFilmsLib(parsItem.slice(0, 20));\n    renderLibraryPagination('watched', films => {\n      refs.films.innerHTML = markupFilmsLib(films);\n    });\n  } else {\n    refs.plug.style.display = 'flex';\n    refs.films.innerHTML = '';\n    refs.pagination.style.display = 'none';\n  }\n  refs.btnQueue.classList.remove('is-active');\n  refs.btnWatched.classList.add('is-active');\n}\n\nfunction getQueue() {\n  refs.films.innerHTML = '';\n  const parsItem = JSON.parse(localStorage.getItem('queue'));\n  if (parsItem !== null && parsItem.length !== 0) {\n    refs.plug.style.display = 'none';\n    refs.films.innerHTML = markupFilmsLib(parsItem.slice(0, 20));\n    renderLibraryPagination('queue', films => {\n      refs.films.innerHTML = markupFilmsLib(films);\n    });\n  } else {\n    refs.plug.style.display = 'flex';\n    refs.films.innerHTML = '';\n    refs.pagination.style.display = 'none';\n  }\n  refs.btnQueue.classList.add('is-active');\n  refs.btnWatched.classList.remove('is-active');\n}\n","export default function markupFilmsLib(results) {\n  return results\n    .map(\n      ({\n        poster_path,\n        original_title,\n        vote_average,\n        release_date,\n        title,\n        id,\n        genres,\n      }) => {\n        let arrayGenre = [];\n        let url = 'https://image.tmdb.org/t/p/w500/';\n        let year = String(release_date).slice(0, 4);\n\n        if (poster_path === null) {\n          url = 'https://i.postimg.cc/L8fCW6RZ/repetajpg.jpg';\n          poster_path = '';\n        }\n        if (release_date === '' || !release_date) {\n          year = 'No information';\n        }\n        if (genres.length === 0) {\n          arrayGenre.push('No information');\n        }\n        genres\n          .map(genre => {\n            arrayGenre.push(genre.name);\n            if (arrayGenre.length > 2) {\n              arrayGenre = arrayGenre.slice(0, 2);\n              arrayGenre.push('Other');\n            }\n          })\n          .join(', ');\n\n        return `<li class=\"films__item\" data-id=${id}>\n          <a href=\"\" class=\"films__item-link\">\n            <div class=\"poster__thumb\">\n              <img src=\"${url}${poster_path}\" loading=\"lazy\" alt=\"${original_title}\" class=\"poster__foto\" />\n            </div>\n              <div class=\"poster__about\">\n                <p class=\"poster__title\">${title}</p>\n                  <div class=\"poster__description\">\n                <p class=\"poster__genre\">${arrayGenre}</p>\n                <p class=\"poster__year\">${year}</p>\n                \n                </div>\n              </div>\n\n          </a>\n        </li>`;\n      }\n    )\n    .join('');\n}\n","import '../sass/components/_modal_movie.scss';\nimport Api from './api';\n\nconst filmsContainer = document.querySelector('.films');\nconst backdropEl = document.querySelector('.modal-movie');\nconst modalContainer = document.querySelector('.modal__container');\nconst backdropFooterEl = document.querySelector('[data-backdrop]');\nconst backdropMovie = document.querySelector('.backdrop');\n\nconst IMG_URL = \"https://image.tmdb.org/t/p/w500\";\n\nconst api = new Api();\n\nfilmsContainer.addEventListener('click', onFilmCardClick);\n\nfunction onFilmCardClick(evt) {\n  evt.preventDefault();\n  if (evt.target.nodeName !== 'IMG') {\n    return;\n  }\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', onCloseModalMovieFromKey);\n  backdropMovie.addEventListener('click', onCloseModalMovieFromClick);\n  backdropEl.classList.remove('is-hidden');\n  backdropFooterEl.classList.remove('is-hidden');\n  const currentMovieId = evt.target.closest('li').dataset.id\n  let moviesArraySavedInLS = localStorage.getItem('watched')\n  moviesArraySavedInLS = JSON.parse(moviesArraySavedInLS)\n  const arrayOfMovies = moviesArraySavedInLS.find(movie => Number(currentMovieId)===movie.id)\n  renderMovieModal(arrayOfMovies)\n  console.log('1')\n  document.body.classList.add('no-scroll');\n}\n\nfunction renderMovieModal(data) {\n    const {\n      poster_path,\n      original_title,\n      title,\n      id,\n      vote_average,\n      vote_count,\n      genres,\n      overview,\n      popularity,\n    } = data\n    const genresRender = genres\n      .map(genre => {\n        return genre.name;\n      })\n      .join(', ');\n    const markUp = `\n    <img\n        class=\"modal__image\"\n        src=\"${poster_path ? IMG_URL + poster_path : 'https://i.postimg.cc/L8fCW6RZ/repetajpg.jpg'}\"\n        alt=\"${title ? title : 'Image'}\"\n        width=\"240\"\n        height=\"357\"\n      />\n      <div class=\"modal__info-box\">\n        <p class=\"modal__title\">${title ? title : 'No information'}</p>\n        <div class=\"modal__features-box\">\n          <div class=\"modal__features-issues\">\n            <p class=\"modal__keys\">Vote / Votes</p>\n            <div class=\"modal__values-box\">\n              <p class=\"modal__value-numbers modal__value-numbers--accent\">${vote_average ? vote_average.toFixed(\n                1\n              ) : '---'}</p>\n              <span class=\"modal__slash\">/</span>\n              <p class=\"modal__value-numbers modal__value-numbers--simple\">${vote_count ? vote_count : '---'}</p>\n            </div>\n          </div>\n          <div class=\"modal__features-issues\">\n            <p class=\"modal__keys\">Popularity</p>\n            <p class=\"modal__value-numbers\">${popularity ? popularity.toFixed(1) : '---'}</p>\n          </div>\n          <div class=\"modal__features-issues\">\n            <p class=\"modal__keys\">Original Title</p>\n            <p class=\"modal__value-text modal__value--main-text\">${original_title ? original_title : 'No information'}</p>\n          </div>\n          <div class=\"modal__features-issues\">\n            <p class=\"modal__keys\">Genre</p>\n            <p class=\"modal__value-text\">${genresRender ? genresRender : 'No information'}</p>\n          </div>\n        </div>\n        <p class=\"modal__about-title\">About</p>\n        <p class=\"modal__about-text\">${overview ? overview : 'No information'}</p>\n        <div class=\"modal__bottom-thumb\">\n          <div class=\"modal__btn-box\">\n          <button class=\"modal__btn\" type=\"button\" data-type=\"watched\" data-id=${id}>add to watched</button>\n          <button class=\"modal__btn\" type=\"button\" data-type=\"queue\" data-id=${id}>add to queue</button>\n          </div>\n        </div>\n     \n      </div>`;\n    modalContainer.innerHTML = markUp;\n    initBtns(id);\n    modalBtnsToProcess();\n  }\n\nfunction initBtns (movieId) {\n    const watchedBtn = document.querySelector('button[data-type=\"watched\"]');\n    const queueBtn = document.querySelector('button[data-type=\"queue\"]');\n    let savedInLSMoviesWatched = localStorage.getItem('watched')\n    if(savedInLSMoviesWatched) {\n      savedInLSMoviesWatched = JSON.parse(savedInLSMoviesWatched)\n      let map = savedInLSMoviesWatched.map(movie => {return movie.id})\n      let index = map.indexOf(Number(movieId))\n         if (index >= 0) {\n            watchedBtn.classList.add('active')\n            watchedBtn.style.backgroundColor = '#ff6b08'\n            watchedBtn.textContent = 'remove from watched'\n          }\n        }\n    \n    let savedInLSMoviesQueue = localStorage.getItem('queue')\n      if(savedInLSMoviesQueue) {\n        savedInLSMoviesQueue = JSON.parse(savedInLSMoviesQueue)\n        let map = savedInLSMoviesQueue.map(movie => {return movie.id})\n        let index = map.indexOf(Number(movieId))\n          if (index >= 0) {\n            queueBtn.classList.add('active')\n            queueBtn.style.backgroundColor = '#ff6b08'\n            queueBtn.textContent = 'remove from queue'\n        }\n      }\n  }\n  \n  function modalBtnsToProcess() {\n    const watchedBtn = document.querySelector('button[data-type=\"watched\"]');\n    const queueBtn = document.querySelector('button[data-type=\"queue\"]');\n    watchedBtn.addEventListener('click', onWatchedFilmsToSaveClick);\n    queueBtn.addEventListener('click', onQueueFilmsToSaveClick);\n  \n    function onWatchedFilmsToSaveClick(evt) {\n      evt.preventDefault();\n      watchedBtn.classList.toggle('active');\n      btnWatchedTextContentToChange()\n      initWatchedLS(watchedBtn.dataset.id);\n    }\n  \n    function onQueueFilmsToSaveClick(evt) {\n      evt.preventDefault();\n      queueBtn.classList.toggle('active');\n      initQueueLS(queueBtn.dataset.id);\n      btnQueueTextContentToChange()\n    }\n  \n    function btnWatchedTextContentToChange() {\n      if(watchedBtn.classList.contains('active')) {\n        watchedBtn.textContent = 'remove from watched'\n        watchedBtn.style.backgroundColor = '#ff6b08'\n        } else {\n        watchedBtn.textContent = 'add to watched' \n        watchedBtn.style.backgroundColor = '#fff'\n      }\n    }\n  \n    function btnQueueTextContentToChange() {\n      if(queueBtn.classList.contains('active')) {\n        queueBtn.textContent = 'remove from queue'\n        queueBtn.style.backgroundColor = '#ff6b08'\n        } else {\n        queueBtn.textContent = 'add to queue'\n        queueBtn.style.backgroundColor = '#fff'\n      }\n    }\n  }\n  \n  function initWatchedLS (currentMovieId) {\n    const savedMovie = api.movieToSave; \n    let moviesArrayToSave = [];\n    let savedInLSMovies = localStorage.getItem('watched')\n    if(!savedInLSMovies) {\n      moviesArrayToSave.push(savedMovie)\n      localStorage.setItem(\"watched\", JSON.stringify(moviesArrayToSave))\n      return\n    } else {\n      savedInLSMovies = JSON.parse(savedInLSMovies)\n      let map = savedInLSMovies.map(movie => {return movie.id})\n      let index = map.indexOf(Number(currentMovieId))\n         if (index < 0) {\n            moviesArrayToSave.push(...savedInLSMovies, savedMovie)\n            localStorage.setItem(\"watched\", JSON.stringify(moviesArrayToSave))\n             } else {\n            let newArray = []\n            savedInLSMovies.splice(index, 1)\n            moviesArrayToSave = savedInLSMovies\n            localStorage.setItem(\"watched\", JSON.stringify(moviesArrayToSave))\n          }\n  \n    if (savedInLSMovies.length < 1) {\n      localStorage.removeItem('watched')\n     } \n    }\n   \n  }\n  \n  function initQueueLS (currentMovieId) {\n    const savedMovie = api.movieToSave; \n    let moviesArrayToSave = [];\n    let savedInLSMovies = localStorage.getItem('queue')\n    if(!savedInLSMovies) {\n      moviesArrayToSave.push(savedMovie)\n      localStorage.setItem(\"queue\", JSON.stringify(moviesArrayToSave))\n      return\n    } else {\n      savedInLSMovies = JSON.parse(savedInLSMovies)\n      let map = savedInLSMovies.map(movie => {return movie.id})\n      let index = map.indexOf(Number(currentMovieId))\n         if (index < 0) {\n            moviesArrayToSave.push(...savedInLSMovies, savedMovie)\n            localStorage.setItem(\"queue\", JSON.stringify(moviesArrayToSave))\n             } else {\n            let newArray = []\n            savedInLSMovies.splice(index, 1)\n            moviesArrayToSave = savedInLSMovies\n            localStorage.setItem(\"queue\", JSON.stringify(moviesArrayToSave))\n          }\n  \n    if (savedInLSMovies.length < 1) {\n      localStorage.removeItem('queue')\n     } \n    }\n   \n  }\n  \n  const closeModalMovieBtn = document.querySelector('.modal-movie__close-button');\n  closeModalMovieBtn.addEventListener('click', modalMovieClose);\n  \n  function modalMovieClose() {\n    document.body.style.overflow = '';\n    window.removeEventListener('keydown', onCloseModalMovieFromKey);\n    backdropMovie.removeEventListener('click', onCloseModalMovieFromClick);\n    backdropFooterEl.classList.add('is-hidden');\n    backdropEl.classList.add('is-hidden');\n    document.body.style.overflow = '';\n    modalContainer.innerHTML = '';\n  }\n  \n  function onCloseModalMovieFromKey(event) {\n    localStorage.removeItem('watched')\n    if (event.code === 'Escape') {\n      backdropFooterEl.classList.add('is-hidden');\n      backdropEl.classList.add('is-hidden');\n      document.body.style.overflow = '';\n    }\n  }\n  \n  function onCloseModalMovieFromClick(event) {\n    if (event.target === event.currentTarget) {\n      backdropFooterEl.classList.add('is-hidden');\n      backdropEl.classList.add('is-hidden');\n      document.body.style.overflow = '';\n    }\n  }"],"names":["parcelRequire","$c8fea678acfa99be$export$2e2bcd8739ae039","results","map","param","poster_path","original_title","release_date","vote_average","title","id","genres","arrayGenre","url","year","String","slice","length","push","genre","name","join","concat","$de0794a6052de9d2$var$refs","btnWatched","document","querySelector","btnQueue","films","plug","pagination","getElementById","$de0794a6052de9d2$var$getWatched","innerHTML","parsItem","JSON","parse","localStorage","getItem","style","display","$jcFG7","renderLibraryPagination","classList","remove","add","addEventListener","$8nrFW","$daa0d5eae844b7af$var$filmsContainer","$daa0d5eae844b7af$var$backdropEl","$daa0d5eae844b7af$var$modalContainer","$daa0d5eae844b7af$var$backdropFooterEl","$daa0d5eae844b7af$var$backdropMovie","$daa0d5eae844b7af$var$IMG_URL","$daa0d5eae844b7af$var$api","$b7ONl","default","$daa0d5eae844b7af$var$onCloseModalMovieFromKey","event","removeItem","code","body","overflow","$daa0d5eae844b7af$var$onCloseModalMovieFromClick","target","currentTarget","evt","preventDefault","nodeName","window","currentMovieId","closest","dataset","moviesArraySavedInLS","data","find","movie","Number","vote_count","overview","popularity","genresRender","markUp","toFixed","movieId","watchedBtn","queueBtn","savedInLSMoviesWatched","indexOf","backgroundColor","textContent","savedInLSMoviesQueue","$daa0d5eae844b7af$var$initBtns","onWatchedFilmsToSaveClick","toggle","btnWatchedTextContentToChange","savedMovie","movieToSave","moviesArrayToSave","savedInLSMovies","setItem","stringify","_moviesArrayToSave","index","apply","$parcel$interopDefault","splice","$daa0d5eae844b7af$var$initWatchedLS","onQueueFilmsToSaveClick","$daa0d5eae844b7af$var$initQueueLS","btnQueueTextContentToChange","contains","$daa0d5eae844b7af$var$modalBtnsToProcess","console","log","removeEventListener"],"version":3,"file":"library.fd52dbbe.js.map"}