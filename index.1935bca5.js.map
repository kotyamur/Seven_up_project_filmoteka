{"mappings":"iiBAAAA,EAAA,S,iCCAA,IAAAC,EAAAD,EAAA,S,8BAGME,EAAO,CACXC,OAAQC,SAASC,cAAc,gBAC/BC,OAAQF,SAASC,cAAc,mBAC/BE,QAASH,SAASC,cAAc,YAChCG,SAAUJ,SAASC,cAAc,WAG7BI,EAAM,IAAI,EAAAC,EAAAC,SAUhB,SAASC,EAASC,GAChBX,EAAKM,SAASM,mBAAmB,YAAyBD,ECnBvDE,KACC,SAAAC,G,IAAGC,EAAWD,EAAXC,YAAaC,EAAcF,EAAdE,eAAgBC,EAAYH,EAAZG,aAAcC,EAAYJ,EAAZI,aAAcC,EAAKL,EAALK,MACpDC,EAAOC,OAAOH,GAAcI,MAAM,EAAG,GAE3C,MAAO,8KAGgEC,OAArBR,EAAY,WAG3BQ,OAHoCP,EAAe,uIAMpDO,OAHCJ,EAAM,2JAI8BI,OADrCH,EAAK,uFAC6CG,OAAbN,EAAa,iGAQvFO,KAAK,K,SDAKC,I,OAAAA,EAAfC,EAAA3B,EAAA,CAAA2B,EAAAC,GAAAC,MAAA,SAAAC,I,IAEUC,E,2FAAkBvB,EAAIN,S,OAAtB6B,EAASC,EAAAC,KACfC,QAAQC,IAAI3B,EAAI4B,YAChBzB,EAASoB,G,gDAETG,QAAQC,IAAGH,EAAAK,I,0DANYC,MAAAC,KAAAC,WAZ3BvC,EAAKC,OAAOuC,iBAAiB,UAE7B,SAAkBC,GAChBA,EAAEC,iBACFnC,EAAIoC,YAAcF,EAAEG,cAAcC,SAASF,YAAYG,M,WAQ1CrB,EAAYY,MAAAC,KAAAC,WAPzBQ,M","sources":["src/index.js","src/js/renderUi.js","src/js/markupFilms.js"],"sourcesContent":["import './js/api';\nimport './js/constants';\nimport './js/elements';\nimport './js/students-modal';\nimport './js/renderUi';\n","import markupFilms from './markupFilms';\nimport Api from './api';\n\nconst refs = {\n  search: document.querySelector('.form__input'),\n  button: document.querySelector('.button__submit'),\n  gallery: document.querySelector('.gallery'),\n  filmLsit: document.querySelector('.films'),\n};\n\nconst api = new Api();\n\nrefs.search.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  api.searchQuery = e.currentTarget.elements.searchQuery.value;\n  findRenderUi();\n}\n\nfunction renderUi(result) {\n  refs.filmLsit.insertAdjacentHTML('beforeend', markupFilms(result));\n}\n\nasync function findRenderUi() {\n  try {\n    const resultApi = await api.search();\n    console.log(api.totlaPages);\n    renderUi(resultApi);\n  } catch (error) {\n    console.log(error);\n  }\n}\n","export default function markupFilms(results) {\n  return results\n    .map(\n      ({ poster_path, original_title, vote_average, release_date, title }) => {\n        const year = String(release_date).slice(0, 4);\n\n        return `<li class=\"films__item\">\n          <a href=\"\" class=\"films__item-link\">\n            <div class=\"poster__thumb\">\n              <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"${original_title}\" class=\"poster__foto\" />\n            </div>\n              <div class=\"poster__about\">\n                <p class=\"poster__title\">${title}</p>\n                  <div class=\"poster__description\">\n                <p class=\"poster__genre\">Drama</p>\n                <p class=\"poster__year\">${year}</p>\n                <p class=\"poster__rating\"><span class=\"poster__rating__text\">${vote_average}</span></p>\n                </div>\n              </div>\n\n          </a>\n        </li>`;\n      }\n    )\n    .join('');\n}\n"],"names":["parcelRequire","$bpxeT","$f8d4034940b3aa41$var$refs","search","document","querySelector","button","gallery","filmLsit","$f8d4034940b3aa41$var$api","$b7ONl","default","$f8d4034940b3aa41$var$renderUi","result","insertAdjacentHTML","map","param","poster_path","original_title","vote_average","release_date","title","year","String","slice","concat","join","$f8d4034940b3aa41$var$_findRenderUi","$parcel$interopDefault","$2TvXO","mark","_callee","resultApi","_ctx","sent","console","log","totlaPages","t0","apply","this","arguments","addEventListener","e","preventDefault","searchQuery","currentTarget","elements","value","$f8d4034940b3aa41$var$findRenderUi"],"version":3,"file":"index.1935bca5.js.map"}