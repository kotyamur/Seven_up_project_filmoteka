{"mappings":"oeAAAA,EAAA,S,kDCGA,MAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,gBAC/BC,OAAQF,SAASC,cAAc,mBAC/BE,QAASH,SAASC,cAAc,YAChCG,SAAUJ,SAASC,cAAc,WAG7BI,EAAM,IAAI,EAAAC,EAAAC,SAEhBT,EAAKC,OAAOS,iBAAiB,UAE7B,SAAkBC,GAChBA,EAAEC,iBACFL,EAAIM,YAAcF,EAAEG,cAAcC,SAASF,YAAYG,MAQzDC,iBACE,IACE,MAAMC,QAAkBX,EAAIN,SAC5BkB,QAAQC,IAAIb,EAAIc,YAPFC,EAQLJ,EAPXlB,EAAKM,SAASiB,mBAAmB,YAAyBD,ECnBvDE,KACC,EAACC,YAAEA,EAAWC,eAAEA,EAAcC,aAAEA,EAAYC,aAAEA,EAAYC,MAAEA,KAGnD,8KAG2CJ,WAAqBC,uIAGpCG,2JARtBC,OAAOF,GAAcG,MAAM,EAAG,wFAY4BJ,gGAQ1EK,KAAK,KDKN,MAAOC,GACPd,QAAQC,IAAIa,GAVhB,IAAkBX,EAHhBY","sources":["src/index.js","src/js/renderUi.js","src/js/markupFilms.js"],"sourcesContent":["import './js/api';\nimport './js/constants';\nimport './js/elements';\nimport './js/students-modal';\nimport './js/renderUi';\n","import markupFilms from './markupFilms';\nimport Api from './api';\n\nconst refs = {\n  search: document.querySelector('.form__input'),\n  button: document.querySelector('.button__submit'),\n  gallery: document.querySelector('.gallery'),\n  filmLsit: document.querySelector('.films'),\n};\n\nconst api = new Api();\n\nrefs.search.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  api.searchQuery = e.currentTarget.elements.searchQuery.value;\n  findRenderUi();\n}\n\nfunction renderUi(result) {\n  refs.filmLsit.insertAdjacentHTML('beforeend', markupFilms(result));\n}\n\nasync function findRenderUi() {\n  try {\n    const resultApi = await api.search();\n    console.log(api.totlaPages);\n    renderUi(resultApi);\n  } catch (error) {\n    console.log(error);\n  }\n}\n","export default function markupFilms(results) {\n  return results\n    .map(\n      ({ poster_path, original_title, vote_average, release_date, title }) => {\n        const year = String(release_date).slice(0, 4);\n\n        return `<li class=\"films__item\">\n          <a href=\"\" class=\"films__item-link\">\n            <div class=\"poster__thumb\">\n              <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"${original_title}\" class=\"poster__foto\" />\n            </div>\n              <div class=\"poster__about\">\n                <p class=\"poster__title\">${title}</p>\n                  <div class=\"poster__description\">\n                <p class=\"poster__genre\">Drama</p>\n                <p class=\"poster__year\">${year}</p>\n                <p class=\"poster__rating\"><span class=\"poster__rating__text\">${vote_average}</span></p>\n                </div>\n              </div>\n\n          </a>\n        </li>`;\n      }\n    )\n    .join('');\n}\n"],"names":["parcelRequire","$21cabda1c699d742$var$refs","search","document","querySelector","button","gallery","filmLsit","$21cabda1c699d742$var$api","$7rYDH","default","addEventListener","e","preventDefault","searchQuery","currentTarget","elements","value","async","resultApi","console","log","totlaPages","result","insertAdjacentHTML","map","poster_path","original_title","vote_average","release_date","title","String","slice","join","error","$21cabda1c699d742$var$findRenderUi"],"version":3,"file":"index.aedaf1ed.js.map"}